{
  "version": 3,
  "sources": ["../../vue-typer-next/dist/vue-typer-next.es.ts"],
  "sourcesContent": ["import { defineComponent as b, ref as _, watch as C, openBlock as k, createElementBlock as D, renderSlot as g, createElementVNode as T } from \"vue\";\nconst A = {\n  // 这个是示例值\n  // status: {\n  //   // PropType：声明时给一个 prop 标注更复杂的类型定义。\n  //   type: String as PropType<\"on\" | \"off\">,\n  //   required: true,\n  //   default: \"on\",\n  // },\n  // 需要打印的内容，可以为字符串或者数组，数组将自动在后面添加换行符\n  data: {\n    type: [String, Array],\n    default: \"\"\n  },\n  // 执行次数，如果小于1，则无限循环\n  handlerNum: {\n    type: Number,\n    default: 1,\n    validator(o) {\n      if (o > 0)\n        return !0;\n      throw Error(\"handlerNum必须大于0\");\n    }\n  },\n  // 打印速度\n  typeSpeed: {\n    type: Number,\n    default: 15\n  },\n  // 行打印速度\n  typeSpeedLine: {\n    type: Number,\n    default: 100\n  },\n  //光标的符号\n  cursorChar: {\n    type: String,\n    default: \"_\"\n  },\n  // 是否撤销显示，当data为数组时，data的后续值知否覆盖前一个值\n  back: {\n    type: Boolean,\n    default: !1\n  },\n  // 回退速度\n  backSpeed: {\n    type: Number,\n    default: 30\n  },\n  // 滚动容器class或者id\n  scrollDom: {\n    type: String,\n    default: \"\"\n  }\n};\nconst B = { class: \"content\" }, L = [\"innerHTML\"], E = /* @__PURE__ */ b({\n  name: \"vueTyperNext\",\n  __name: \"typer\",\n  props: A,\n  emits: [\"complete\", \"lineComplete\"],\n  setup(o, { expose: c, emit: d }) {\n    const a = o, e = _(\"\");\n    let s = 1, u = \"start\", h;\n    const n = `<span class=\"cursorChar\">${a.cursorChar}</span>`;\n    C(\n      () => a.data,\n      () => {\n        console.log(\"watch\"), s = a.handlerNum, y();\n      },\n      {\n        immediate: !0\n      }\n    );\n    function f() {\n      e.value = \"\", e.value = e.value + n;\n    }\n    async function y() {\n      if (Array.isArray(a.data)) {\n        for (; s > 0; )\n          f(), await S(), s--;\n        d(\"complete\");\n      } else {\n        for (; s > 0; )\n          f(), await w(), s--;\n        d(\"complete\");\n      }\n    }\n    async function w() {\n      for (let t = 0; t < a.data.length; t++) {\n        const l = a.data[t];\n        e.value = e.value.slice(0, e.value.length - n.length) + l + (t < a.data.length - 1 ? e.value.slice(e.value.length - n.length) : \"\"), await i(a.typeSpeed), m();\n      }\n    }\n    async function S() {\n      for (let t = 0; t < a.data.length; t++) {\n        const l = a.data[t];\n        if (l)\n          for (let r = 0; r < l.length; r++) {\n            const p = l[r], v = e.value.length - n.length;\n            e.value = e.value.slice(0, v) + p + e.value.slice(v), u === \"pause\" && await i(), await i(a.typeSpeed), m();\n          }\n        if (d(\"lineComplete\"), await i(a.typeSpeedLine), a.back) {\n          if (l && t < a.data.length - 1)\n            for (let r = 0; r < l.length; r++) {\n              const p = e.value.length - n.length;\n              e.value = e.value.slice(0, p - 1) + e.value.slice(p), await i(a.backSpeed);\n            }\n        } else\n          e.value = e.value.slice(0, e.value.length - n.length) + \"<br/>\" + (t < a.data.length - 1 ? e.value.slice(e.value.length - n.length) : \"\");\n      }\n    }\n    function i(t) {\n      return new Promise((l) => {\n        t ? setTimeout(l, t) : h = window.setInterval(() => {\n          u === \"start\" && (l(), clearInterval(h));\n        }, 100);\n      });\n    }\n    function m() {\n      if (a.scrollDom) {\n        const t = document.querySelector(a.scrollDom);\n        t && (t.scrollTop = t.scrollHeight);\n      }\n    }\n    function N() {\n      u = \"start\";\n    }\n    function x() {\n      u = \"pause\";\n    }\n    return c({\n      start: N,\n      pause: x\n    }), (t, l) => (k(), D(\"div\", B, [\n      g(t.$slots, \"prefix\"),\n      T(\"div\", {\n        class: \"result\",\n        innerHTML: e.value\n      }, null, 8, L),\n      g(t.$slots, \"suffix\")\n    ]));\n  }\n}), H = [E], $ = (o) => {\n  H.map((c) => {\n    o.component(c.name, c);\n  });\n};\nexport {\n  $ as default,\n  E as vueTyperNext\n};\n"],
  "mappings": "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",
  "names": []
}
